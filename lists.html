<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flashcards – Wordlists</title>
  <style>
    body{font-family:system-ui,Segoe UI,Roboto,Arial;margin:24px;max-width:900px}
    a{display:block;padding:10px 0;text-decoration:none;border-bottom:1px solid #ddd}
    small{color:#666}
  </style>
</head>
<body>
  <h1>Flashcards</h1>
  <div id="list">Loading…</div>

<script>
const basePage = "flashcards.html";   // your flashcards page
const indexFile = "wordlists.json";   // generated by the Action

async function load(){
  const res = await fetch(indexFile, { cache: "no-store" });
  if(!res.ok){
    document.getElementById("list").textContent =
      `Could not load ${indexFile} (${res.status}).`;
    return;
  }
  const data = await res.json();

  const html = (data.items || []).map(item => {
    const url = `${basePage}?wordlist=${encodeURIComponent(item.file)}`;
    return `<a href="${url}"><b>${item.title}</b><br/><small>${item.file}</small></a>`;
  }).join("");

  document.getElementById("list").innerHTML = html || "<p>No wordlists found.</p>";
}
load();
</script>
</body>
</html>
